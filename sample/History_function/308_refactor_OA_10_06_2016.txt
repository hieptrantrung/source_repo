{"e":0,"last":"1465534159743","msg":[{"text":{"type":"webchat","data":{"to":73816860,"id":385923895172,"cliMsgId":1465534159741,"time":1465534159,"fromU":101665266,"ts":1465534159741,"fromD":"Zing MP3","mcrypt":1,"iv":"bTUcsfhPBGRpF0Bo3HIAFQ==","msg":"M53MTiJrj9U1KZYp9RsQ5HAKDYefrGTWvyFE6GewIYDftmEOQAD84mP\/XUU1R4hfA3PWgUVVpyaoyWD9yIIjjrbN27qZO56HzwU7JzYbgq0QUQlgyFUHmwJeiMlzqdGJ7oYOmQt40VC2gEWnm6n3S3D30MlsnsYXc+mrPMEtJzE+tqX9kdS3JLKkv2G4SAUloEncDu1AXAgv74DAircf0ZY48JMOAt74c1UMeX1I1bNFcwviJArHqRaRtM0Sna2lNZ8aXpiNPy3BVsk1JUeg0jjZSBplopgx6NaqnxdtF1SfTBddTmkVC2dJ8qFqGYLXyPFt5d8PvEDP4AGYhavdco2w4IlPZC0pqQFdBhpgNm2QrWFfHTD2RMiRaUFB75LpcZOUhCFFZaE2jP5UpRRTq\/+2G1apNod36W5CQXoDjdsK03OtPv2LAk5F\/eA88\/4\/7TKxaa3z1EeXuZWqECjA9tpBWaSgX1U43zMrmW59IeVeYugfj1BiSR6S6tMVHcXqGmUS7rUd0OakbPyoBD1PUnQfxpGLClj\/B7OwQcDfdQ1YtB7mKh5VatQjA\/rzD9DRbIyQhI3NvrJwnQsgYnkr1w==","notify":0,"attach":"","srcType":5,"topOut":0,"topOutTimeOut":0,"topOutImprTimeOut":0}},"ts":1465534159741}]}


{"e":0,"last":"1465534159743","msg":[{"text":{"type":"webchat","data":{"to":73816860,"id":385923895172,"cliMsgId":1465534159810,"time":1465534159,"fromU":101665266,"ts":1466134310948,"fromD":"Zing MP3","mcrypt":1,"iv":"bTUcsfhPBGRpF0Bo3HIAFQ==","msg":"M53MTiJrj9U1KZYp9RsQ5HAKDYefrGTWvyFE6GewIYDftmEOQAD84mP\/XUU1R4hfA3PWgUVVpyaoyWD9yIIjjrbN27qZO56HzwU7JzYbgq0QUQlgyFUHmwJeiMlzqdGJ7oYOmQt40VC2gEWnm6n3S3D30MlsnsYXc+mrPMEtJzE+tqX9kdS3JLKkv2G4SAUloEncDu1AXAgv74DAircf0ZY48JMOAt74c1UMeX1I1bNFcwviJArHqRaRtM0Sna2lNZ8aXpiNPy3BVsk1JUeg0jjZSBplopgx6NaqnxdtF1SfTBddTmkVC2dJ8qFqGYLXyPFt5d8PvEDP4AGYhavdco2w4IlPZC0pqQFdBhpgNm2QrWFfHTD2RMiRaUFB75LpcZOUhCFFZaE2jP5UpRRTq\/+2G1apNod36W5CQXoDjdsK03OtPv2LAk5F\/eA88\/4\/7TKxaa3z1EeXuZWqECjA9tpBWaSgX1U43zMrmW59IeVeYugfj1BiSR6S6tMVHcXqGmUS7rUd0OakbPyoBD1PUnQfxpGLClj\/B7OwQcDfdQ1YtB7mKh5VatQjA\/rzD9DRbIyQhI3NvrJwnQsgYnkr1w==","notify":0,"attach":"","srcType":5,"topOut":1,"topOutTimeOut":7200,"topOutImprTimeOut":1800}},"ts":1466134310948}]}

com

cmd 101

need change: cliMsgId

{"last":"1467962863803","msg":[{"ts":1467962863801,"text":{"data":{"topOutTimeOut":0,"cliMsgId":1467962863800,"to":70015339,"mcrypt":1,"fromD":"Zing MP3","ts":1467962863801,"iv":"nX9B3bA5dswPOHt8VEM79g==","topOutImprTimeOut":0,"topOut":0,"msg":"5iQky6w8Occczvq1AOny3VjEZjgMQBvOnM+4370hGH+CNtGXTE8PYKUBfHJ1CnpTCJpiUEWK80aOzq6FiCeLa7Waq2G9FYFuSkSh3bgv+P9dS+PNH86wtfoCRptRUhL5DIcq6sxVxwq0EYxKFJDZNdBBkUweWGnvN0FGkMx0uGv8j4KsCAH9nUcptox1MmjONX53w8Je0y4VkT+UEWycnpj7z+gz5zFWp\/V\/cSZqxLR94WkP0ctsW1QrlM1NVQMXE9W\/GnAL0w3ZBu2rQFQ5oYNB1nwkUzMNbMdGatMPMecY3FtS9ugSw10dnhr7eqKyHZ9JPBkIPeYMYY2kPf56q6sBKTZGQYDFfcMzFZ\/qSmdZ3fTqMlDtNO9rzgoIkm0taZxihJNU87VzjIj27W3OCn9bR31VKnO0r7OFs2Dp2LxH5f7a1kOmyIqLbrbkjV84vKL2+A+rIHePUoGjmAidlhzltD0WXlTUer+bqFTE7BrtrZIAPhuYjpzE8wB0qb9qduJXvQuu2xwAL1dXGhG+cCeusrPfBcBPAyPVvATXx8UErPDzwrq464IOpsU2UdIw1rRrfdiS3Knb3bJ\/ue7B1w==","srcType":5,"id":407897542637,"time":1467962863,"fromU":101665266,"attach":"","notify":0},"type":"webchat"}}],"e":0}


{"last":"1467962863803","msg":[{"ts":1467962863801,"text":{"data":{"topOutTimeOut":0,"cliMsgId":1467962863801,"to":70015339,"mcrypt":1,"fromD":"Zing MP3","ts":1467962863801,"iv":"nX9B3bA5dswPOHt8VEM79g==","topOutImprTimeOut":0,"topOut":0,"msg":"5iQky6w8Occczvq1AOny3VjEZjgMQBvOnM+4370hGH+CNtGXTE8PYKUBfHJ1CnpTCJpiUEWK80aOzq6FiCeLa7Waq2G9FYFuSkSh3bgv+P9dS+PNH86wtfoCRptRUhL5DIcq6sxVxwq0EYxKFJDZNdBBkUweWGnvN0FGkMx0uGv8j4KsCAH9nUcptox1MmjONX53w8Je0y4VkT+UEWycnpj7z+gz5zFWp\/V\/cSZqxLR94WkP0ctsW1QrlM1NVQMXE9W\/GnAL0w3ZBu2rQFQ5oYNB1nwkUzMNbMdGatMPMecY3FtS9ugSw10dnhr7eqKyHZ9JPBkIPeYMYY2kPf56q6sBKTZGQYDFfcMzFZ\/qSmdZ3fTqMlDtNO9rzgoIkm0taZxihJNU87VzjIj27W3OCn9bR31VKnO0r7OFs2Dp2LxH5f7a1kOmyIqLbrbkjV84vKL2+A+rIHePUoGjmAidlhzltD0WXlTUer+bqFTE7BrtrZIAPhuYjpzE8wB0qb9qduJXvQuu2xwAL1dXGhG+cCeusrPfBcBPAyPVvATXx8UErPDzwrq464IOpsU2UdIw1rRrfdiS3Knb3bJ\/ue7B1w==","srcType":5,"id":407897542637,"time":1467962863,"fromU":101665266,"attach":"","notify":0},"type":"webchat"}}],"e":0}



{"cover":"http:\/\/cover.talk.zdn.vn\/7\/b\/9\/0\/5\/eb7af4c07f774f5e01772582bda0dac6.jpg","voice":"","type":1,"lastUpdateTime":1465374487,"chatable":true,"follow":false,"subcribe":true,"description":"Zalo page chính thức của 7Up Việt Nam, nơi bạn có thể chia sẻ mọi điều và cùng 7Up trải nghiệm tinh thần sống lạc quan, sảng khoái trong mọi khoảnh khắc","locations":[],"background":"","uid":167899453,"usr":"t_m7b09dnaa6","dpn":"7UP","ged":0,"dob":1454645811,"sdob":"05\/02\/2016","avt":"http:\/\/s120.avatar.talk.zdn.vn\/c\/2\/c\/e\/8\/120\/eb7af4c07f774f5e01772582bda0dac6.jpg","stt":"Nhắn cú pháp #DUTHUYEN mãsố đến Zalo 7UP để khám phá may mắn bất ngờ ngay hôm nay và sẵn sàng \"Lướt du thuyền ở Hawaii, trúng giải mỗi ngày\" cùng 7Up! \/-strong","profile_stt":0,"phone":"","last_action":0,"receive_type":0,"detail_url":"null\/167899453.html","menu_info":{},"is_block":false,"is_disable_unfollow":false,"is_close_page":false,"is_disable_follow":false,"is_banned":false,"is_enable_place":false,"ext_menu":{"menu":[{"name":"Giấy Xin Phép Nghỉ Hè","data":"http:\/\/www.my7up.vn\/web\/don-xin-nghi-he\/","data_popup":"","submenus":[],"menu_id":13432,"parent_id":0,"menu_type":10,"zapp_id":null,"is_tracking":false,"id_tracking":721122659651302520}],"ver":2,"group_msg":1}}


{"cover":"http:\/\/cover.talk.zdn.vn\/7\/b\/9\/0\/5\/eb7af4c07f774f5e01772582bda0dac6.jpg","voice":"","type":1,"lastUpdateTime":1465374487,"chatable":true,"follow":false,"subcribe":true,"description":"Zalo page chính thức của 7Up Việt Nam, nơi bạn có thể chia sẻ mọi điều và cùng 7Up trải nghiệm tinh thần sống lạc quan, sảng khoái trong mọi khoảnh khắc","locations":[],"background":"","uid":167899453,"usr":"t_m7b09dnaa6","dpn":"7UP","ged":0,"dob":1454645811,"sdob":"05\/02\/2016","avt":"http:\/\/s120.avatar.talk.zdn.vn\/c\/2\/c\/e\/8\/120\/eb7af4c07f774f5e01772582bda0dac6.jpg","stt":"Nhắn cú pháp #DUTHUYEN mãsố đến Zalo 7UP để khám phá may mắn bất ngờ ngay hôm nay và sẵn sàng \"Lướt du thuyền ở Hawaii, trúng giải mỗi ngày\" cùng 7Up! \/-strong","profile_stt":0,"phone":"","last_action":0,"receive_type":0,"detail_url":"null\/167899453.html","menu_info":{},"is_block":false,"is_disable_unfollow":false,"is_close_page":false,"is_disable_follow":false,"is_banned":false,"is_enable_place":false,"ext_menu":{"menu":[{"name":"Giấy Xin Phép Nghỉ Hè","data":"http:\/\/www.my7up.vn\/web\/don-xin-nghi-he\/","data_popup":"","submenus":[],"menu_id":13432,"parent_id":0,"menu_type":10,"zapp_id":null,"is_tracking":false,"id_tracking":721122659651302520}],"ver":2,"group_msg":1}}

{"cover":"http:\/\/cover.talk.zdn.vn\/3\/c\/4\/7\/1\/0e61040745f69fbdf967d67b71265b8a.jpg","voice":"","type":0,"uid":70015339,"usr":"t_m7e0en9mg6","dpn":"Hiep Tt","ged":0,"dob":549478800,"sdob":"1\/6\/1987","avt":"http:\/\/s120.avatar.talk.zdn.vn\/a\/b\/4\/c\/44\/120\/0e61040745f69fbdf967d67b71265b8a.jpg","stt":"","phone":"","last_action":0,"receive_type":0}


- TestCAse:

1- Don't keep

	Mở dialog delete, home app, mở lên lại, mất dialog
	
	






	{"srcType":5,"topOut":1,"topOutTimeOut":7200,"topOutImprTimeOut":1800,"topOutByMsgSentTimeout":0,"receiveTime":1466134300243,"imprTime":1466134310948}
	
	
	202796
	
	
	
	{"srcType":5,"topOut":1,"topOutTimeOut":7200,"topOutImprTimeOut":1800,"topOutByMsgSentTimeout":600,"receiveTime":1466141098656,"imprTime":0}